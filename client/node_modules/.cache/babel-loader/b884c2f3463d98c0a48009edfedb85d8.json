{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\julie\\\\Documents\\\\concordia-bootcamps\\\\final-project\\\\fp\\\\client\\\\src\\\\components\\\\search\\\\searchResults.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearSearch } from \"../../redux/actions/searchActions\";\n\nconst SearchResult = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const searchResult = useSelector(state => state.search.items);\n  const accessToken = useSelector(state => state.auth.token);\n\n  const addToQueue = async item => {\n    console.log(item);\n    const options = {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    };\n    await fetch(`https://api.spotify.com/v1/me/player/queue?uri=${item.uri}`, options);\n    dispatch(addToQueue(item));\n    dispatch(clearSearch());\n  };\n\n  if (!searchResult || searchResult === null) {\n    return null; // todo loading\n  }\n\n  return searchResult.map(result => {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [result.name, \" - \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [result.artists[0].name, \"-\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addToQueue(result),\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  });\n};\n\n_s(SearchResult, \"YAchKtRMMZUeGWEmSwoV8sbdMFs=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = SearchResult;\nexport default SearchResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResult\");","map":{"version":3,"sources":["C:/Users/julie/Documents/concordia-bootcamps/final-project/fp/client/src/components/search/searchResults.jsx"],"names":["React","useSelector","useDispatch","clearSearch","SearchResult","dispatch","searchResult","state","search","items","accessToken","auth","token","addToQueue","item","console","log","options","method","headers","Authorization","fetch","uri","map","result","name","artists"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,mCAA5B;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AACzB,QAAMC,QAAQ,GAAGH,WAAW,EAA5B;AACA,QAAMI,YAAY,GAAGL,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAaC,KAAzB,CAAhC;AACA,QAAMC,WAAW,GAAGT,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACI,IAAN,CAAWC,KAAvB,CAA/B;;AAEA,QAAMC,UAAU,GAAG,MAAOC,IAAP,IAAgB;AACjCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,UAAMG,OAAO,GAAG;AACdC,MAAAA,MAAM,EAAE,MADM;AAEdC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASV,WAAY;AAAvC;AAFK,KAAhB;AAIA,UAAMW,KAAK,CACR,kDAAiDP,IAAI,CAACQ,GAAI,EADlD,EAETL,OAFS,CAAX;AAIAZ,IAAAA,QAAQ,CAACQ,UAAU,CAACC,IAAD,CAAX,CAAR;AACAT,IAAAA,QAAQ,CAACF,WAAW,EAAZ,CAAR;AACD,GAZD;;AAcA,MAAI,CAACG,YAAD,IAAiBA,YAAY,KAAK,IAAtC,EAA4C;AAC1C,WAAO,IAAP,CAD0C,CAC7B;AACd;;AAED,SAAOA,YAAY,CAACiB,GAAb,CAAkBC,MAAD,IAAY;AAClC,wBACE;AAAA,iBACGA,MAAM,CAACC,IADV,sBACkB;AAAA,mBAAOD,MAAM,CAACE,OAAP,CAAe,CAAf,EAAkBD,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,cADlB,eAEE;AAAQ,QAAA,OAAO,EAAE,MAAMZ,UAAU,CAACW,MAAD,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD,GAPM,CAAP;AAQD,CA/BD;;GAAMpB,Y;UACaF,W,EACID,W,EACDA,W;;;KAHhBG,Y;AAiCN,eAAeA,YAAf","sourcesContent":["import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { clearSearch } from \"../../redux/actions/searchActions\";\r\n\r\nconst SearchResult = () => {\r\n  const dispatch = useDispatch();\r\n  const searchResult = useSelector((state) => state.search.items);\r\n  const accessToken = useSelector((state) => state.auth.token);\r\n\r\n  const addToQueue = async (item) => {\r\n    console.log(item);\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: { Authorization: `Bearer ${accessToken}` },\r\n    };\r\n    await fetch(\r\n      `https://api.spotify.com/v1/me/player/queue?uri=${item.uri}`,\r\n      options\r\n    );\r\n    dispatch(addToQueue(item));\r\n    dispatch(clearSearch());\r\n  };\r\n\r\n  if (!searchResult || searchResult === null) {\r\n    return null; // todo loading\r\n  }\r\n\r\n  return searchResult.map((result) => {\r\n    return (\r\n      <p>\r\n        {result.name} - <span>{result.artists[0].name}-</span>\r\n        <button onClick={() => addToQueue(result)}>add</button>\r\n      </p>\r\n    );\r\n  });\r\n};\r\n\r\nexport default SearchResult;\r\n"]},"metadata":{},"sourceType":"module"}