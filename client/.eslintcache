[{"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\actions\\authActions.js":"1","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\reducers\\authReducer.js":"2","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\App\\App.js":"3","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\reducers\\usersReducer.js":"4","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\actions\\usersActions.js":"5","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\reducers\\searchReducer.js":"6","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\actions\\searchActions.js":"7","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\deviceControl.jsx":"8","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\player.jsx":"9","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\search\\search.jsx":"10","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\search\\searchResults.jsx":"11","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\reducers\\queueReducer.js":"12","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\index.js":"13","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\store\\store.js":"14"},{"size":269,"mtime":1606932047131,"results":"15","hashOfConfig":"16"},{"size":891,"mtime":1607130604206,"results":"17","hashOfConfig":"16"},{"size":2606,"mtime":1607120652046,"results":"18","hashOfConfig":"16"},{"size":969,"mtime":1606943307428,"results":"19","hashOfConfig":"16"},{"size":278,"mtime":1606934137440,"results":"20","hashOfConfig":"16"},{"size":595,"mtime":1607117201603,"results":"21","hashOfConfig":"16"},{"size":633,"mtime":1607116390150,"results":"22","hashOfConfig":"16"},{"size":568,"mtime":1607099510319,"results":"23","hashOfConfig":"16"},{"size":527,"mtime":1607132379204,"results":"24","hashOfConfig":"16"},{"size":1363,"mtime":1607111194047,"results":"25","hashOfConfig":"16"},{"size":1130,"mtime":1607131835794,"results":"26","hashOfConfig":"16"},{"size":537,"mtime":1607144868638,"results":"27","hashOfConfig":"16"},{"size":293,"mtime":1607120999820,"results":"28","hashOfConfig":"16"},{"size":300,"mtime":1606841703865,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yrej7m",{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\actions\\authActions.js",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\reducers\\authReducer.js",[],["61","62"],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\App\\App.js",["63","64","65","66","67"],"import React, { useEffect, useState } from \"react\";\nimport queryString from \"query-string\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  receiveAccessToken,\n  receiveAccessTokenError,\n  requestAccessToken,\n} from \"../../redux/actions/authActions\";\nimport {\n  receiveMainUserProfile,\n  receiveUserProfileError,\n  requestUsersInfo,\n} from \"../../redux/actions/usersActions\";\nimport Search from \"../search/search\";\nimport Devices from \"../deviceControl\";\nimport Player from \"../player\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const accessToken = useSelector((state) => state.auth.token);\n  const token = useSelector((state) => state.auth.token);\n  const [gotToken, setGotToken] = useState(false);\n  const [count, setCount] = useState(0);\n\n  //----------------------------------user authorization process--------------------//\n  const authorize = () => {\n    window.location = `http://localhost:5678/login`;\n  };\n  const parsed = queryString.parse(window.location.search);\n  let code;\n  if (parsed) {\n    code = parsed.code;\n  }\n\n  //------------------------------getting the access token and setting it to the store----------------------//\n  useEffect(() => {\n    dispatch(requestAccessToken());\n    fetch(\"/spotify_access_token\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ code: code }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        //todo be more defensive------------\n        setGotToken(true);\n        dispatch(receiveAccessToken(data));\n      })\n      .catch((err) => {\n        dispatch(receiveAccessTokenError());\n      });\n  }, []);\n\n  //fetching the main user data\n\n  const fetchMainUserData = async () => {\n    dispatch(requestUsersInfo());\n    const options = {\n      headers: { Authorization: `Bearer ${accessToken}` },\n    };\n    try {\n      const request = await fetch(\"https://api.spotify.com/v1/me\", options);\n      const data = await request.json();\n      dispatch(receiveMainUserProfile(data));\n    } catch (err) {\n      console.log(err);\n      dispatch(receiveUserProfileError());\n    }\n  };\n\n  useEffect(() => {\n    if (token) {\n      fetchMainUserData();\n    }\n  }, [setGotToken]);\n\n  return (\n    <div>\n      <h1>Final Project</h1>\n      <Player />\n      {!code ? (\n        <button onClick={authorize}>login</button>\n      ) : (\n        <button>log out</button>\n      )}\n      <button onClick={authorize}>login</button>\n      <button onClick={fetchMainUserData}>get user info</button>\n      <Devices />\n      <Search />\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\reducers\\usersReducer.js",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\actions\\usersActions.js",[],["68","69"],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\reducers\\searchReducer.js",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\actions\\searchActions.js",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\deviceControl.jsx",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\player.jsx",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\search\\search.jsx",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\components\\search\\searchResults.jsx",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\reducers\\queueReducer.js",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\index.js",[],"C:\\Users\\julie\\Documents\\concordia-bootcamps\\final-project\\fp\\client\\src\\redux\\store\\store.js",[],{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","severity":1,"message":"75","line":22,"column":10,"nodeType":"76","messageId":"77","endLine":22,"endColumn":18},{"ruleId":"74","severity":1,"message":"78","line":23,"column":10,"nodeType":"76","messageId":"77","endLine":23,"endColumn":15},{"ruleId":"74","severity":1,"message":"79","line":23,"column":17,"nodeType":"76","messageId":"77","endLine":23,"endColumn":25},{"ruleId":"80","severity":1,"message":"81","line":52,"column":6,"nodeType":"82","endLine":52,"endColumn":8,"suggestions":"83"},{"ruleId":"80","severity":1,"message":"84","line":75,"column":6,"nodeType":"82","endLine":75,"endColumn":19,"suggestions":"85"},{"ruleId":"70","replacedBy":"86"},{"ruleId":"72","replacedBy":"87"},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"no-unused-vars","'gotToken' is assigned a value but never used.","Identifier","unusedVar","'count' is assigned a value but never used.","'setCount' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'code' and 'dispatch'. Either include them or remove the dependency array.","ArrayExpression",["90"],"React Hook useEffect has missing dependencies: 'fetchMainUserData' and 'token'. Either include them or remove the dependency array.",["91"],["88"],["89"],"no-global-assign","no-unsafe-negation",{"desc":"92","fix":"93"},{"desc":"94","fix":"95"},"Update the dependencies array to be: [code, dispatch]",{"range":"96","text":"97"},"Update the dependencies array to be: [fetchMainUserData, setGotToken, token]",{"range":"98","text":"99"},[1661,1663],"[code, dispatch]",[2212,2225],"[fetchMainUserData, setGotToken, token]"]